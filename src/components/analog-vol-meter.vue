<style>
svg {
    width: 100%;
}
#arrow {
    transition: 5s ease-out;
    transform-origin: center bottom;
}
.score {
    position: relative;
    top: -1.5em;
    font-size: xx-large;
    font-weight: bold;
}
@media screen and (max-width: 700px) {
    svg {
        width: 100%;
    }
    .score {
        top: -1.2em;
    }
}
@media screen and (max-width: 575px) {
    svg {
        width: 100%;
    }
    .score {
        top: -1.2em;
    }
}
@media screen and (max-width: 445px) {
    svg {
        width: 100%;
    }
    .score {
        top: -1.2em;
    }
}
@media screen and (max-width: 399px) {
    svg {
        width: 100%;
    }

    .score {
        top: -1.2em;
    }
}
@-moz-document url-prefix() {
    svg {
        width: 50%;
    }
}
</style>
<template>
    <!-- <?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" -->
  <svg
    width="75%"
    height="75%"
    viewBox="0 0 18092 9342"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xml:space="preserve"
    xmlns:serif="http://www.serif.com/"
    style="
        fill-rule: evenodd;
        clip-rule: evenodd;
        stroke-linejoin: round;
        stroke-miterlimit: 2;
    "
  >
    <g id="buitencirkel">
      <path
          d="M-10.126,9385.55c0,-5131.79 4050.58,-9296.08 9042.25,-9296.08c4991.67,0 9042.25,4164.27 9042.25,9296.08l-18084.5,0l0.05,0l-0.009,0Z"
          style="fill: #4a4e57; fill-rule: nonzero"
      />
      <path
          d="M8505.08,8766.34l-3884.93,-6912.08c-587.258,356.041 -1121.8,781.771 -1603.66,1269.4l5488.58,5642.67l0.009,0.021Z"
          style="fill: #ff9a15; fill-rule: nonzero"
      />
      <path
          d="M8173.83,9354.59l-7498.79,-2066.65c-165.642,665.658 -255.988,1354.55 -263.521,2066.65l7762.33,0l-0.02,0Z"
          style="fill: #ec0000; fill-rule: nonzero"
      />
      <path
          d="M8700.83,8650.22l-2010.23,-7709.29c-662.55,193.509 -1287.45,464.413 -1874.7,797.242l3884.93,6912.08l-0,-0.033Z"
          style="fill: #12b212; fill-rule: nonzero"
      />
      <path
          d="M8347,8928.89l-5488.58,-5642.67c-474.325,495.383 -888.421,1052.67 -1234.74,1648.68l6723.33,3993.97l-0.009,0.009Z"
          style="fill: #ff9a15; fill-rule: nonzero"
      />
      <path
          d="M8234.04,9130.14l-6723.33,-3993.97c-331.284,603.729 -587.255,1246.18 -775.484,1927.33l7498.83,2066.65l-0.017,-0Z"
          style="fill: #ec0000; fill-rule: nonzero"
      />
      <path
          d="M11155.3,878.995l-2010.23,7709.29l-0,-7980.21c692.671,7.725 1362.74,100.609 2010.23,270.905l-0,0.012Z"
          style="fill: #12b212; fill-rule: nonzero"
      />
      <path
          d="M9830.21,9130.14l7498.83,-2066.65c-188.229,-681.146 -451.738,-1323.6 -775.488,-1927.33l-6723.33,3993.97l-0.012,-0Z"
          style="fill: #ec0000; fill-rule: nonzero"
      />
      <path
          d="M9717.25,8928.89l6723.33,-3993.98c-346.338,-603.746 -760.417,-1153.3 -1234.74,-1648.68l-5488.58,5642.67l-0.009,-0.008Z"
          style="fill: #ff9a15; fill-rule: nonzero"
      />
      <path
          d="M8919.17,8588.3l-0,-7980.21c-692.654,7.725 -1362.73,100.608 -2010.23,270.904l2010.23,7709.29l-0,0.012Z"
          style="fill: #12b212; fill-rule: nonzero"
      />
      <path
          d="M9559.17,8766.34l5488.58,-5642.67c-481.858,-487.62 -1023.94,-913.35 -1603.67,-1269.39l-3884.93,6912.08l0.013,-0.021Z"
          style="fill: #ff9a15; fill-rule: nonzero"
      />
      <path
          d="M9363.42,8650.22l3884.93,-6912.08c-587.254,-340.575 -1212.17,-603.734 -1874.7,-797.242l-2010.23,7709.29l-0,0.033Z"
          style="fill: #12b212; fill-rule: nonzero"
      />
      <path
          d="M9890.41,9354.59l7762.34,0c-7.521,-712.104 -97.866,-1400.99 -263.508,-2066.65l-7498.83,2066.65Z"
          style="fill: #ec0000; fill-rule: nonzero"
      />
      <path
          d="M8505.08,8766.34l-3177.22,-5658.12c-474.325,294.133 -918.525,642.429 -1317.55,1037.19l4494.79,4620.96l-0.016,-0.021Z"
          style="fill: #ffae44; fill-rule: nonzero"
      />
      <path
          d="M8173.83,9354.59l-6136.08,-1695.12c-135.521,541.825 -210.8,1106.88 -218.333,1695.12l6354.42,0Z"
          style="fill: #f46666; fill-rule: nonzero"
      />
      <path
          d="M8700.83,8650.22l-1648.83,-6316.08c-542.083,154.812 -1054.05,379.271 -1535.9,650.175l3184.74,5665.88l-0,0.033Z"
          style="fill: #9f9; fill-rule: nonzero"
      />
      <path
          d="M8347,8928.89l-4494.79,-4620.96c-383.98,410.225 -722.78,859.167 -1008.88,1354.55l5503.67,3266.39l0,0.021Z"
          style="fill: #ffae44; fill-rule: nonzero"
      />
      <path
          d="M8234.04,9130.14l-5503.67,-3266.39c-271.041,495.367 -481.858,1021.7 -632.429,1579.01l6136.08,1687.38l0.013,-0Z"
          style="fill: #f46666; fill-rule: nonzero"
      />
      <path
          d="M10786.4,2279.98l-1648.83,6316.08l-0,-6532.79c572.187,0 1121.8,77.413 1648.83,216.734l0,-0.025Z"
          style="fill: #9f9; fill-rule: nonzero"
      />
      <path
          d="M9830.21,9130.14l6143.62,-1695.12c-150.592,-557.292 -368.925,-1083.63 -632.434,-1579.01l-5511.17,3274.13l-0.025,-0Z"
          style="fill: #f46666; fill-rule: nonzero"
      />
      <path
          d="M9717.25,8928.89l5503.67,-3266.39c-286.096,-487.637 -624.896,-944.321 -1008.87,-1354.55l-4494.79,4620.96l-0.004,-0.021Z"
          style="fill: #ffae44; fill-rule: nonzero"
      />
      <path
          d="M8919.17,8588.31l-0,-6532.8c-564.667,7.729 -1114.27,85.141 -1648.83,224.462l1648.83,6308.33Z"
          style="fill: #9f9; fill-rule: nonzero"
      />
      <path
          d="M9559.17,8766.34l4494.79,-4620.96c-399.046,-394.754 -835.713,-743.054 -1317.57,-1037.19l-3177.2,5658.12l-0.017,0.021Z"
          style="fill: #ffae44; fill-rule: nonzero"
      />
      <path
          d="M9363.42,8650.22l3177.2,-5658.12c-481.858,-278.65 -993.821,-495.383 -1535.9,-650.175l-1641.3,6308.33l-0,-0.033Z"
          style="fill: #9f9; fill-rule: nonzero"
      />
      <path
          d="M9890.4,9354.59l6354.44,0c-7.538,-580.521 -82.83,-1145.56 -218.355,-1695.12l-6136.08,1695.12Z"
          style="fill: #f46666; fill-rule: nonzero"
      />
      <g id="wijzer">
          <g id="circelwijzer">
              <g
                  id="arrow"
                  v-bind:style="{
                      transform: `rotate(${meter.pointerDeg}deg)`
                  }"
              >
                  <path
                      d="M10565.1,8727.14c15.487,785.937 -624.009,1431.86 -1419.74,1451.28c-795.729,19.446 -1457.29,-602.342 -1472.76,-1388.26c-15.484,-785.938 1347.88,-6044.25 1347.88,-6044.25c-0,-0 1529.13,5195.33 1544.62,5981.25l-0,-0.021Z"
                      style="fill: #7c2d00; fill-rule: nonzero"
                  />
                  <path
                      d="M9004,2803.84l114.879,7379.58c6.875,2.917 9.792,-3.958 16.667,-1.042c795.729,-19.425 1435.23,-665.345 1419.75,-1451.28c-15.483,-785.921 -1541.7,-5988.12 -1541.7,-5988.12c0,0 7.917,19.6 -9.6,60.867Z"
                      style="fill: #f30; fill-rule: nonzero"
                  />
              </g>
              <path
                  d="M9795.21,9070.39c164.412,366.179 -7.48,799.6 -381.125,964.012c-373.646,164.409 -807.067,7.484 -971.48,-358.7c-164.408,-366.179 7.484,-799.6 381.13,-964.008c373.645,-171.875 807.066,-7.467 971.475,358.696Z"
                  style="fill: #ebebeb; fill-rule: nonzero"
              />
              <path
                  d="M9645.75,9137.64c127.046,283.975 -7.466,627.725 -298.925,754.775c-291.441,134.512 -627.725,7.462 -754.758,-283.979c-127.046,-283.975 7.467,-627.725 298.925,-754.771c291.442,-134.496 627.725,-7.467 754.758,283.975Z"
                  style="fill: #fff; fill-rule: nonzero"
              />
          </g>
      </g>
      <g id="binnencirkel">
          <path
              d="M9036.52,5454.8c-2152.2,-0.004 -3900.87,1763.61 -3900.87,3930.76l7794.25,-0c7.467,-2167.15 -1741.2,-3930.77 -3893.4,-3930.77l0.021,0.004Z"
              style="fill: #4a4e57; fill-rule: nonzero"
          />
          <path
              d="M9036.52,6359.01c-1658.99,-0 -3004.11,1360.07 -3004.11,3026.55l6008.25,-0c7.467,-1666.48 -1345.12,-3026.55 -3004.12,-3026.55l-0.021,-0Z"
              style="fill: #ededed; fill-rule: nonzero"
          />
          <rect
              id="score"
              x="8074.21"
              y="7351.35"
              width="1917.16"
              height="2026.36"
              style="fill: none"
          />
      </g>
    </g>
  </svg>
</template>

<script>
// imports
import AnalogMeter from "../scripts/functions.js"

export default {
  props:[`value`,"settings"],
  data() {
    return {
      meter: "no value", 
    //end return
    };
  // end data
  },
  mounted(){
      this.runMeter() 
  },
  watch: {
      value: function(){
          let oldValue;
          if(this.value != oldValue && this.settings.manMode === false || this.settings.manValue != oldValue && this.settings.manMode === true){
              if(this.settings.manMode === true){
                this.runMeter(); 
                oldValue = this.settings.manValue;
              }
              else{
                this.runMeter();    
                oldValue = this.value; 
              }
          }
      // end watch function
      }
  },
  methods: {
    runMeter(){
        if(this.settings.manMode === true){
            this.meter = AnalogMeter(this.settings.manValue,this.settings.maxValue,this.settings.minValue,this.settings.maxDeg,this.settings.minDeg);
        }
        else{
            this.meter = AnalogMeter(this.value,this.settings.maxValue,this.settings.minValue,this.settings.maxDeg,this.settings.minDeg);
        }
        this.meter.pointerDeg = this.meter.pointerDeg + this.settings.adjustDeg;            
        this.$emit('meter', this.meter);   
      }
  },
// end export  
};
</script>
